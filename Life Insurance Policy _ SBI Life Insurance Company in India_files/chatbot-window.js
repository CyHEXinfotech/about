function filterFunction(t,e){let s,i,n;s=$(t).closest(".searchable"),n=s.find("input").val().toUpperCase(),0!=n.length?$("#search_ul").show():$("#search_ul").hide(),-1!=["ArrowDown","ArrowUp","Enter"].indexOf(e.key)?keyControl(e,s):(i=s.find("ul li"),i.each((function(t,e){$(this).text().toUpperCase().indexOf(n)>-1?$(this).show():$(this).hide()})),s.find("ul li").removeClass("selected"),setTimeout((function(){s.find("ul li:visible").first().addClass("selected")}),100)),$("#chat-div").stop().animate({scrollTop:$("#chat-div")[0].scrollHeight},500)}function keyControl(t,e){"ArrowDown"==t.key?e.find("ul li").hasClass("selected")?e.find("ul li:visible").index(e.find("ul li.selected"))+1<e.find("ul li:visible").length&&e.find("ul li.selected").removeClass("selected").nextAll().not('[style*="display: none"]').first().addClass("selected"):e.find("ul li:first-child").addClass("selected"):"ArrowUp"==t.key?e.find("ul li:visible").index(e.find("ul li.selected"))>0&&e.find("ul li.selected").removeClass("selected").prevAll().not('[style*="display: none"]').first().addClass("selected"):"Enter"==t.key&&(e.find("input").val(e.find("ul li.selected").text()).blur(),onSelect(e.find("ul li.selected").text())),e.find("ul li.selected")[0].scrollIntoView({behavior:"smooth"})}function onSelect(t){$("#chat-text").val(t),$("#send-button").click(),$("#chat-text").focus(),$("#dropdown_list").remove()}window.onload=function(){var t="",e=["Do you want me to help you with something?","May I help you with something?"],s="",i="https://chatbot.sbilife.co.in",n="",a="/sites/SBILife/images",l="chat",o=null,c=!0,r=!1,d=null,u=window.speechSynthesis;function h(){null!=u&&u.cancel()}$(".typing-loader").hide(),$("body").append($("<div/>",{id:"chat-box-div",style:"display: none;"})),$("body").append($("<img>",{src:n+a+"/popup.png",id:"mascot",style:"right: 4em;"})),$("#chat-box-div").append($("<div/>",{id:"chat-box-head"})),$("#chat-box-head").append('\t  <div class="modal fade" id="chatbot-modal" role="dialog">\t\t\t<div class="modal-dialog">\t\t\t\t<div class="modal-content">\t\t\t\t\t<div class="modal-header">\t\t\t\t\t</div>\t\t\t\t\t<div class="modal-body">\t\t\t\t\t<div id="img_chatbot">\t\t\t\t\t</div>\t\t\t\t\t</div>\t\t\t\t\t<div class="modal-footer">\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div> \t   </div>\t  <div class="row" >\t\t<div class="hidden-xs col-sm-2 col-md-2">\t\t  <img src='+n+a+'/mascot.png class="img-head img-responsive" style="width: 50%; height: auto;">\t\t</div>\t\t<div class="col-xs-10 col-sm-8 col-md-8 ">\t\t<br>\t\t  <span id="menu-bar" style="">I am RIA - Real Intelligent Assistant</span>\t\t</div>\t\t<div class="col-xs-2 col-sm-2 col-md-2 pull-right">\t\t  <img src='+n+a+'/cross.png id="close-button" class="menu-button img-responsive" style="height: 2em;">\t\t</div>\t  </div>'),$("#chat-box-div").append($("<div/>",{id:"chat-div",class:"panel-body chat-box-main"})),$("#chat-div").append("<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>");function m(){return(new Date).getTime()}var p,v=m(),f=!1;function g(){var t;channel_details=(t="Web",window.location.pathname,$.ajax({url:i+"/"+l+"/get_channel_details/",type:"POST",async:!1,data:{channel_name:t,form_url:"/chat/renderchatdiv/"},success:function(t){},error:function(t,e){y("RIA is under maintenance, Please try again after some time. Sorry for your inconvenience."),x()}}).responseJSON),message=channel_details.welcome_message,channel_init_msgs=channel_details.initial_messages.items,o_message='<br><br>"Hello..............Please type your question in the box provided below or you can press the Mic button to speak to me & I will try my best to assist you.â€',setTimeout((function(){y(message+"<b>Disclaimer</b>: RIA (Real Intelligent Assistant) is a technology-based ChatBot of SBI Life Insurance. \t\t\t  As the bot is still learning, please verify the response given by RIA from other sources of information."+o_message,scroll="A"),B(["Customer Onboarding","Policy Statement","Other Services","Death Claim Intimation","Branch Locator"],["Customer Onboarding","Policy Statement","Other Services","Death Claim Intimation","Branch Locator"]),L(channel_init_msgs)}),500)}function b(){var t=new Date,e=t.getHours(),s=t.getMinutes(),i=e>=12?"PM":"AM";return(e=(e%=12)||12)+":"+(s=s<10?"0"+s:s)+" "+i}function y(t){var e;$("#dropdown_list").remove(),$("#chat-div").append('\t\t  <div class="do_delete">\t\t\t  <div class="talk-time-server">\t\t\t\t  <img class="img-head talk-img-server" src='+n+a+'/mascot.png>\t\t\t\t  <div class="RIA"><b>RIA</b></div>\t\t\t\t  \t\t\t  </div>\t\t\t  <div class="talk-bubble-left tri-right left-top"">\t\t\t\t  <div class="talktext">\t\t\t\t\t  <p>'+t+'\t\t\t\t\t  </p>\t\t\t\t  </div>\t\t\t\t  <div>\t\t\t\t\t  <p class="time-left" align="right" >'+b()+"</p>\t\t\t\t  </div>\t\t\t  </div>\t\t  </div>"),1==r&&(e=t,h(),e=e.replace(/<[^>]*>?/gm,""),(d=new SpeechSynthesisUtterance(e)).lang="en-US",d.rate=.95,d.pitch=1,d.volume=1,u.getVoices(),u.speak(d)),x(),_()||$("#chat-text").focus()}function w(t){t=(t=t.split(">").join("#")).split("<").join("#"),$("#chat-div").append('<div class="do_delete"><div class="talk-time-user"><img class="img-head talk-img-user" src='+n+a+'/user.png><div class="You"><b>YOU</b></div><small class="time-right-div"></small></div><div class="talk-bubble-right tri-right right-top"><div class="talktext"><p>'+t+'</p></div><div><p class="time-right" align="right">'+b()+"</p></div></div></div>")}function x(){$("#chat-div").stop().animate({scrollTop:$("#chat-div")[0].scrollHeight},500)}function _(){return/Mobi/.test(navigator.userAgent)}function k(){$("#scrollBot-img").hide(),$("#chat-box-div").slideUp("slow"),$("#mascot").show()}function C(t){!function(t){form_url="/chat/renderchatdiv/",window.location.pathname!=form_url&&!1;$.ajax({url:i+"/"+l+"/get_data/",type:"POST",data:{input:t,is_form:!1},success:function(t){suggestions_fetched=t.sentence_list,function(t,e){var s;t.addEventListener("input",(function(i){var n,a,o,r=this.value;if(l(),!r)return!1;s=-1,(n=document.createElement("DIV")).setAttribute("id",this.id+"autocomplete-list"),n.setAttribute("class","autocomplete-items"),this.parentNode.appendChild(n);var d=0,u=6;for(o=0;o<e.length&&d<u;o++)c&&-1!=e[o].toLowerCase().indexOf(r.toLowerCase())&&(a=document.createElement("DIV"),foundAt=e[o].toLowerCase().search(r.toLowerCase()),a.innerHTML+=e[o].substr(0,foundAt),a.innerHTML+="<b>"+e[o].substr(foundAt,r.length)+"</b>",a.innerHTML+=e[o].substr(foundAt+r.length),a.innerHTML+="<input type='hidden' value='"+e[o]+"'>",a.addEventListener("click",(function(e){t.value=this.getElementsByTagName("input")[0].value,A(t.value),l()})),n.appendChild(a),d++)}));var i=new Event("input",{});function n(t){if(!t)return!1;a(t),s>=t.length&&(s=0),s<0&&(s=t.length-1),t[s].classList.add("autocomplete-active")}function a(t){for(var e=0;e<t.length;e++)t[e].classList.remove("autocomplete-active")}function l(e){for(var s=document.getElementsByClassName("autocomplete-items"),i=0;i<s.length;i++)e!=s[i]&&e!=t&&s[i].parentNode.removeChild(s[i])}document.getElementById(t.id).dispatchEvent(i),t.addEventListener("keydown",(function(t){var e=document.getElementById(this.id+"autocomplete-list");e&&(e=e.getElementsByTagName("div")),40==t.keyCode?(s++,n(e)):38==t.keyCode?(s--,n(e)):13==t.keyCode&&(t.preventDefault(),s>-1&&e&&e[s].click())}))}(document.getElementById("chat-text"),suggestions_fetched)},error:function(t){}})}(t)}setInterval((function(){m()>v+6e4&&!f&&!$("#mascot").is(":visible")&&(y(e[Math.floor(Math.random()*e.length)]),L(["How to update my email address?","How to pay premium online?","What is my premium due date?","How to register on CSS portal?"]),f=!0)}),6e4),$("#chat-box-div").append('<div class="chat-box-space">\t  <ul id="related-questions">\t\t<li class="related-question menu-item" id="main-menu">Refresh</li>\t\t<li class="related-question" id="related-question-0">Policy Details</li>\t\t<li class="related-question" id="related-question-1">Purchase</li>\t  </ul><img id="scrollBot-img" \t  src='+n+a+'/double_arrow_bottom_bold.png \t   width="25" height="25" class="srolltobot-img" style="display:none"><br>\t</div>'),$("#chat-box-div").append('<div  class="chat-box-footer">\t  <div style="width: 100%;display: flex;">\t    <div class="autocomplete" style="width: calc(90%);">\t      <input type="text" id="chat-text" class="form-control" placeholder="Ask me about SBI Life\'s Products and Services">\t   </div>\t      <div style="display: flex;" >\t    <div class="input-group-text" id="easychat-mic-div"  ><svg id="img-mic" height="30px" width="30px" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="microphone" class="svg-inline--fa fa-microphone fa-w-11" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 352 512"><path fill="currentColor" d="M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"></path></svg></div>\t    <div class="input-group-text" id="easychat-mic-disable" style="display: none;" ><svg  height="30px" width="30px"  xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="times" class="svg-inline--fa fa-times fa-w-11" role="img" viewBox="0 0 352 512"><path fill="currentColor" d="M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"/></svg></div>\t    </div><span >\t      <button class="btn btn-info disabled send-button" id="send-button" type="button">Ask</button>\t    </span>\t  </div>\t</div>'),$("#chat-div").scroll((function(){$("#chat-div")[0].scrollHeight-($("#chat-div").scrollTop()+$("#chat-div").height())>400?$("#scrollBot-img").show():$("#scrollBot-img").hide()})),$("#scrollBot-img").click((function(){x()})),$("#send-button").click((function(t){t.preventDefault(),A($("#chat-text").val())})),$("#chat-text").keyup((function(t){clearTimeout(p),r=!1;var e=$(this).val().substr(-1);$("#chat-text").val().length>0?$("#send-button").removeClass("disabled"):$("#send-button").addClass("disabled"),13==t.which?A($("#chat-text").val()):27==t.which?k():32==t.which?"Word Level"!=s&&"Char Level"!=s||(p=setTimeout((function(){C($("#chat-text").val())}),500)):(e>="a"&&e<="z"||e>="A"&&e<="Z")&&"Char Level"==s&&(p=setTimeout((function(){C($("#chat-text").val())}),500))}));function I(t){$("#chat-text").removeAttr("disabled"),void 0!==t&&null!=t&&$("#chat-text").attr("placeholder","Please type your query here.")}function S(e){$("#chat-div").append('<div class="typing-loader"></div>'),$(".typing-loader").show(),E();form_url=window.location.pathname,window.location.pathname,form_url,$(".chipbutton").css({cursor:"default"}),$(".chipbutton").removeClass("chipbutton"),$(".button3").removeClass("button3"),$.ajax({url:i+"/"+l+"/query/",type:"POST",data:{message:e,user_id:t,channel:"web",channel_params:"",is_form:!1},success:function(e){t=e.user_id,x(),$(".typing-loader").remove(),function(t){var e="";e="200"==t.status_code?t.response.text_response.text:"Sorry. I do not understand. Please elaborate.";for(var s=function(t){return list=t.split("$$"),list}(e),i=0;i<s.length;i++)y(s[i]);choices=t.response.choices,cards=t.response.cards,images=t.response.images,videos=t.response.videos;for(i=0;i<images.length;i++)images[i]="/chatbot_ans_images"+images[i].replace("/files","");display_list=[],value_list=[];for(i=0;i<choices.length;i++)display_list.push(choices[i].display),value_list.push(choices[i].value);0!=t.response.recommendations.length&&L(t.response.recommendations);"true"==t.response.text_response.modes.is_button&&B(display_list,value_list);0!=images.length&&function(t){if(0==t.length)return;carouselCnt++;for(var e='<div id="carousel-id-'+carouselCnt+'" class="carousel slide" data-ride="carousel" data-interval="false" >\t\t  \x3c!-- Indicators --\x3e\t\t  <ol class="carousel-indicators">\t\t\t<li data-target="#carousel-id-'+carouselCnt+'" data-slide-to="0" class="active"></li>',s=1;s<t.length;s++)e+='<li data-target="#carousel-id-'+carouselCnt+'" data-slide-to="'+s+'"></li>';e+='</ol>\t\t  \x3c!-- Wrapper for slides --\x3e\t\t  <div class="carousel-inner" >\t\t\t<div class="item active">\t\t\t  <img id="ansImg-'+carouselCnt+'-0"class = "img-responsive-" src="'+n+a+t[0]+'">\t\t\t</div>';for(s=1;s<t.length;s++)e+='<img id="ansImg-'+carouselCnt+"-"+s+'" class = "item img-responsive" src="'+n+a+t[s]+'">';var i='<div class="do_delete" style="margin-left: 2em;">'+(e+='</div>\t\t  \x3c!-- Left and right controls --\x3e\t\t  <a class="left carousel-control" href="#carousel-id-'+carouselCnt+'" data-slide="prev">\t\t\t<span class="glyphicon glyphicon-chevron-left"></span>\t\t  </a>\t\t  <a class="right carousel-control" href="#carousel-id-'+carouselCnt+'" data-slide="next">\t\t\t<span class="glyphicon glyphicon-chevron-right"></span>\t\t  </a>\t\t</div>')+"</div><br><br>";$("#chat-div").append(i);for(s=0;s<t.length;s++){document.getElementById("ansImg-"+carouselCnt+"-"+s).onclick=function(){$("#img_chatbot").html("<img src="+this.src+" class='img-responsive'>"),$("#chatbot-modal").modal("show")}}}(images);"true"==t.response.text_response.modes.is_dropdown&&function(t){html='<div id="dropdown_list"><div class="searchable">\n    <input type="text" placeholder="Start Typing..." onkeyup="filterFunction(this,event)">\n    <ul id="search_ul">';for(var e=0;e<t.length;e++)html+="<li>"+t[e]+"</li>";html+="</ul></div></div>",$("#chat-div").append(html),x()}(t.response.text_response.modes_param.dropdown_list);c=t.response.is_flow_ended,is_typable=t.response.text_response.modes.is_typable,"false"==is_typable?($("#chat-text").val(""),$("#chat-text").attr("placeholder","Please select an option from the above choices"),$("#chat-text").attr("disabled","disabled")):I()}(e)},error:function(t,e){$(".typing-loader").remove(),y("RIA is under maintenance, Please try again after some time. Sorry for your inconvenience."),x()},timeout:12e4}),_()||$("#chat-text").focus()}function B(t,e){if(list=t,0!=list.length){for(var s='<div class="do_delete">',i=0;i<list.length;i++)"Apply Now"==list[i]||"Get Now"==list[i]?(s+='<button class="button4 button5 chipbutton">',s+=list[i],s+="</button>"):('<img src="/sites/SBILife/images/thumbs-up-filled.png" width="25" class="responsive-img">'==list[i]?s+='<button class="button2 button3 chipbutton chatbot-unhelp-btn">':'<img src="/sites/SBILife/images/thumbs-down-filled.png" width="25" class="responsive-img">'==list[i]?s+='<p style="font-size="13px;color:#6388a9d6;font-weight:500;position:relative;left:7px;margin-left:50px;display:inline-block;">Did you find my response helpful?</p><button class="button2 button3 chipbutton chatbot-help-btn">':s+='<button class="button2 button3 chipbutton">',s+=list[i],s+="</button>");s+="</div><br>",$("#chat-div").append(s)}}function L(t){if(t.length>0){for(var e='<div class="do_delete">\t\t\t\t<div class="button-group button-group2">\t\t\t\t   ',s=0;s<t.length;s++)e+='<div class="button chiprecommendation">'+t[s]+"</div>";e+="</div>\t\t\t </div>\t\t\t",$("#chat-div").append(e),x(),_()||$("#chat-text").focus()}}function A(t){0!=(t=function(t){return(new DOMParser).parseFromString(t,"text/html").documentElement.textContent}(t)).length&&(t.match('^[-0-9a-zA-Z.@!%&+*=_:/", ?]+$')&&(v=m(),f=!1,$(".submit_feedback_textarea").remove(),$(".feedback_textarea").prop("disabled",!0),x(),w(t),S(t),$("#chat-text").val(""),$("#chat-textautocomplete-list").hide(),$("#send-button").addClass("disabled")))}function E(){document.getElementById("img-mic").style.color="unset",document.getElementById("chat-text").placeholder="Ask me about SBI Life's Products and Services",document.getElementById("send-button").style.display="inline-block",document.getElementById("easychat-mic-disable").style.display="none",null!=o&&o.stop()}if($("#close-button").click((function(t){k()})),$("#main-menu").click((function(e){$(".do_delete").remove(),I(""),$.ajax({url:i+"/"+l+"/clear_user_data/",type:"POST",data:{user_id:t},success:function(t){g()}}),$("#chat-text").val("")})),$("#related-question-0").click((function(t){A("Show me my policy details.")})),$("#related-question-1").click((function(t){A("Purchase life insurance")})),$("#mascot").click((function(t){0=="".length&&($("#chat-text").focus(),$("#mascot").hide(),$("#chat-box-div").slideDown("slow"),$(".chat-box-main").slideDown("slow"),$(".chat-box-space").slideDown("slow"),$(".chat-box-footer").slideDown("slow"),!1,x(),g(),_()||$("#chat-text").focus()),response=$.ajax({url:i+"/"+l+"/get_auto_suggestion/",type:"POST",async:!1,data:{},success:function(t){},error:function(t){return{status:500}}}).responseJSON,"Optimized"==(s=200==response.status?response.auto_suggestion:[])&&C(null)})),carouselCnt=0,$(document).on("click",".chiprecommendation",(function(){$(this).css("background-color","#1B5CAB"),$(this).css("color","white"),$(this).removeClass("chiprecommendation"),$(this).css({cursor:"default"}),A($(this).html())})),$("body").on("click",".chipbutton",(function(){$(this).css({"background-color":"#1e88e5"}),$(this).css({color:"white"}),$(this).css({cursor:"default"}),$(this).removeClass("chipbutton");var t=$(this).text();show_user_text=!0,'<img src="/sites/SBILife/images/thumbs-down-filled.png" width="25" class="responsive-img">'!=$(this).html()&&'<img width="25" class="responsive-img" src="/sites/SBILife/images/thumbs-down-filled.png">'!=$(this).html()||(t="Feedbackhelpful",show_user_text=!1),'<img src="/sites/SBILife/images/thumbs-up-filled.png" width="25" class="responsive-img">'!=$(this).html()&&'<img width="25" class="responsive-img" src="/sites/SBILife/images/thumbs-up-filled.png">'!=$(this).html()||(t="Feedbackunhelpful",show_user_text=!1),"Chatbot Slow"!=(t=$($.parseHTML(t)).text())&&"Answer is incorrect"!=t&&"Answer is incomplete"!=t&&"Can't find answer"!=t&&"Other Feedback"!=t||(show_user_text=!1),0!=t.length&&(show_user_text&&w(t),"Other Feedback"==t?y('<textarea class="feedback_textarea"placeholder="Please provide your Feedback" rows="4" cols="30" style="resize:none;"></textarea>\t\t\t<button class="submit_feedback_textarea">Submit</button>'):S(t))})),$(document).on("click",".submit_feedback_textarea",(function(){var t=$(this).closest("p").find("textarea").val();0!=(t=$($.parseHTML(t)).text()).length&&($(".feedback_textarea").prop("disabled",!0),$(this).remove(),S("Feedback Text: "+t))})),"webkitSpeechRecognition"in window){var T=T||webkitSpeechRecognition;(o=new T).continuous=!1,o.lang="en-IN",o.interimResults=!0,o.onstart=function(){!0},o.onerror=function(t){"no-speech"==t.error&&!0,"audio-capture"==t.error&&!0,"not-allowed"==t.error?(!0,o=null,E(),alert("You will not be able to use voicebot feature as you haven't allowed microphone access.")):(!0,o=null,E())},o.onend=function(){!1},o.onresult=function(t){document.getElementById("chat-text").value=t.results[0][0].transcript,t.results[0].isFinal&&(user_input=document.getElementById("chat-text").value,""!=user_input.trim()&&user_input.length<300&&A(user_input),o.stop(),document.getElementById("chat-text").value="")}}else;$("#easychat-mic-div").click((function(t){t.preventDefault(),h(),document.getElementById("img-mic").style.color="#1b5cab",document.getElementById("chat-text").placeholder="Speak now",document.getElementById("send-button").style.display="none",document.getElementById("easychat-mic-disable").style.display="inline-block",null!=o&&o.start(),r=!0})),$("#easychat-mic-disable").click((function(t){t.preventDefault(),E()}))},$(".searchable input").focus((function(){$(this).closest(".searchable").find("ul").show(),$(this).closest(".searchable").find("ul li").show()})),$(".searchable input").blur((function(){let t=this;setTimeout((function(){$(t).closest(".searchable").find("ul").hide()}),300)})),$(document).on("click",".searchable ul li",(function(){$(this).closest(".searchable").find("input").val($(this).text()).blur(),onSelect($(this).text())})),$(".searchable ul li").hover((function(){$(this).closest(".searchable").find("ul li.selected").removeClass("selected"),$(this).addClass("selected")}));

/* js minified 17-04-2023 */